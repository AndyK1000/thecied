(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{5764:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reserve",function(){return t(6678)}])},6678:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var o=t(7876),a=t(4232),n=t(8230),i=t.n(n);function l(){let[e,r]=(0,a.useState)({title:"",eventType:"",datetimeStart:"",datetimeEnd:"",area:"",crowdSize:"",specialRequests:""}),[t,n]=(0,a.useState)(!1),[l,s]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,g]=(0,a.useState)([]),[m,b]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/events/api/event-classes/");if(e.ok){let r=await e.json();r.success&&c(r.data)}let r=await fetch("/events/api/venues/");if(r.ok){let e=await r.json();e.success&&g(e.data)}}catch(e){console.error("Error loading dropdown data:",e)}finally{b(!1)}})()},[]);let p=e=>{let{name:t,value:o}=e.target;r(e=>({...e,[t]:o}))},h=async t=>{t.preventDefault(),n(!0),s("");try{let t={title:e.title,eventType:e.eventType,datetimeStart:e.datetimeStart,datetimeEnd:e.datetimeEnd,area:e.area,crowdSize:e.crowdSize,specialRequests:e.specialRequests},o=await fetch("/events/api/create-event/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await o.json();o.ok&&a.success?(s('Your event "'.concat(a.data.title,'" has been created successfully! Event ID: ').concat(a.data.event_id,". Status: ").concat(a.data.status)),r({title:"",eventType:"",datetimeStart:"",datetimeEnd:"",area:"",crowdSize:"",specialRequests:""})):s("Error: ".concat(a.error||"Failed to create event. Please try again."))}catch(e){console.error("Error submitting form:",e),s("Network error. Please check your connection and try again.")}finally{n(!1)}};return(0,o.jsxs)("div",{style:{backgroundColor:"black",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif"},children:[(0,o.jsxs)("header",{style:{backgroundColor:"rgba(40, 40, 40, 0.75)",backdropFilter:"blur(10px)",color:"white",padding:"1.5rem",fontSize:"1.5rem",fontWeight:"bold",position:"fixed",top:0,left:0,right:0,zIndex:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{children:"CIED - Event Reservation"}),(0,o.jsx)(i(),{href:"/",style:{color:"white",textDecoration:"none",fontSize:"1rem",opacity:.8,transition:"opacity 0.3s"},onMouseOver:e=>e.currentTarget.style.opacity="1",onMouseOut:e=>e.currentTarget.style.opacity="0.8",children:"← Back to Home"})]}),(0,o.jsxs)("div",{style:{marginTop:"6rem",maxWidth:"600px",margin:"6rem auto 0",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))",backdropFilter:"blur(15px)",borderRadius:"15px",padding:"2.25rem",boxShadow:"0 15px 45px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,o.jsx)("h1",{style:{color:"white",fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},children:"Book an Event"}),l&&(0,o.jsx)("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.5)",color:"rgb(34, 197, 94)",padding:"1rem",borderRadius:"8px",marginBottom:"2rem",textAlign:"center"},children:l}),(0,o.jsxs)("form",{onSubmit:h,children:[(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Event Title *"}),(0,o.jsx)("input",{type:"text",name:"title",value:e.title,onChange:p,required:!0,placeholder:"Enter your event title...",style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Event Type *"}),(0,o.jsxs)("select",{name:"eventType",value:e.eventType,onChange:p,required:!0,disabled:m,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)",children:[(0,o.jsx)("option",{value:"",style:{backgroundColor:"#333",color:"white"},children:m?"Loading...":"Select Event Type"}),d.map(e=>(0,o.jsx)("option",{value:e.event_model_id,style:{backgroundColor:"#333",color:"white"},children:e.event_name},e.event_model_id))]})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Start Date & Time *"}),(0,o.jsx)("input",{type:"datetime-local",name:"datetimeStart",value:e.datetimeStart,onChange:p,required:!0,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"End Date & Time *"}),(0,o.jsx)("input",{type:"datetime-local",name:"datetimeEnd",value:e.datetimeEnd,onChange:p,required:!0,min:e.datetimeStart||void 0,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Venue *"}),(0,o.jsxs)("select",{name:"area",value:e.area,onChange:p,required:!0,disabled:m,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)",children:[(0,o.jsx)("option",{value:"",style:{backgroundColor:"#333",color:"white"},children:m?"Loading...":"Select Venue"}),u.map(e=>(0,o.jsxs)("option",{value:e.v_id,style:{backgroundColor:"#333",color:"white"},children:[e.venue," ",e.capacity?"(Capacity: ".concat(e.capacity,")"):""]},e.v_id))]})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Crowd Size *"}),(0,o.jsxs)("select",{name:"crowdSize",value:e.crowdSize,onChange:p,required:!0,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)",children:[(0,o.jsx)("option",{value:"",style:{backgroundColor:"#333",color:"white"},children:"Select Crowd Size"}),(0,o.jsx)("option",{value:"intimate",style:{backgroundColor:"#333",color:"white"},children:"Intimate (1-5 people)"}),(0,o.jsx)("option",{value:"small",style:{backgroundColor:"#333",color:"white"},children:"Small (6-15 people)"}),(0,o.jsx)("option",{value:"medium",style:{backgroundColor:"#333",color:"white"},children:"Medium (16-30 people)"}),(0,o.jsx)("option",{value:"large",style:{backgroundColor:"#333",color:"white"},children:"Large (31-60 people)"}),(0,o.jsx)("option",{value:"xlarge",style:{backgroundColor:"#333",color:"white"},children:"Extra Large (61-100 people)"}),(0,o.jsx)("option",{value:"massive",style:{backgroundColor:"#333",color:"white"},children:"Massive (100+ people)"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("label",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Special Requests"}),(0,o.jsx)("textarea",{name:"specialRequests",value:e.specialRequests,onChange:p,placeholder:"Please describe any special equipment, catering, setup requirements, or other requests...",rows:5,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none",resize:"vertical",transition:"all 0.3s ease",fontFamily:"system-ui, sans-serif"},onFocus:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.6)",onBlur:e=>e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"})]}),(0,o.jsx)("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1.25rem",backgroundColor:t?"rgba(100, 100, 100, 0.5)":"rgba(59, 130, 246, 0.8)",color:"white",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"600",cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:"0.05em"},onMouseOver:e=>{t||(e.currentTarget.style.backgroundColor="rgba(59, 130, 246, 1)",e.currentTarget.style.transform="translateY(-2px)")},onMouseOut:e=>{t||(e.currentTarget.style.backgroundColor="rgba(59, 130, 246, 0.8)",e.currentTarget.style.transform="translateY(0px)")},children:t?"Submitting...":"Submit Reservation Request"})]})]}),(0,o.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",textAlign:"center",marginTop:"3rem",fontSize:"0.9rem"},children:[(0,o.jsx)("p",{children:"Your reservation request will be reviewed within 24 hours."}),(0,o.jsx)("p",{children:"For urgent requests, please contact us directly."})]})]})}}},e=>{e.O(0,[230,636,593,792],()=>e(e.s=5764)),_N_E=e.O()}]);